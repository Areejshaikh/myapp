!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="64e50a4a-a9d1-46da-80c3-9d2f4c834983",e._sentryDebugIdIdentifier="sentry-dbid-64e50a4a-a9d1-46da-80c3-9d2f4c834983")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9438],{45359:function(e){function t(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}e.exports=function(e,n){n=n||{};var r,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===o&&isFinite(e))return n.long?(r=Math.abs(e))>=864e5?t(e,r,864e5,"day"):r>=36e5?t(e,r,36e5,"hour"):r>=6e4?t(e,r,6e4,"minute"):r>=1e3?t(e,r,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},191:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(21524),i=n(59933),o=n(96631),s=n(79109);function u(e={}){let{autoFocus:t=!1,isTextInput:n,within:u}=e,a=(0,s.useRef)({isFocused:!1,isFocusVisible:t||(0,r.E)()}),[l,c]=(0,s.useState)(!1),[d,f]=(0,s.useState)(()=>a.current.isFocused&&a.current.isFocusVisible),p=(0,s.useCallback)(()=>f(a.current.isFocused&&a.current.isFocusVisible),[]),v=(0,s.useCallback)(e=>{a.current.isFocused=e,c(e),p()},[p]);(0,r.mG)(e=>{a.current.isFocusVisible=e,p()},[],{isTextInput:n});let{focusProps:h}=(0,i.K)({isDisabled:u,onFocusChange:v}),{focusWithinProps:g}=(0,o.L)({isDisabled:!u,onFocusWithinChange:v});return{isFocused:l,isFocusVisible:d,focusProps:u?g:h}}},59933:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(57571),i=n(79109),o=n(34193);function s(e){let{isDisabled:t,onFocus:n,onBlur:s,onFocusChange:u}=e,a=(0,i.useCallback)(e=>{if(e.target===e.currentTarget)return s&&s(e),u&&u(!1),!0},[s,u]),l=(0,r.d)(a),c=(0,i.useCallback)(e=>{let t=(0,o.r)(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(n&&n(e),u&&u(!0),l(e))},[u,n,l]);return{focusProps:{onFocus:!t&&(n||u||s)?c:void 0,onBlur:!t&&(s||u)?a:void 0}}}},21524:function(e,t,n){"use strict";n.d(t,{E:function(){return b},Jz:function(){return T},_w:function(){return L},mG:function(){return S}});var r=n(21429),i=n(60465),o=n(34193),s=n(79109);let u=null,a=new Set,l=new Map,c=!1,d=!1,f={Tab:!0,Escape:!0};function p(e,t){for(let n of a)n(e,t)}function v(e){c=!0,e.metaKey||!(0,r.V5)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(u="keyboard",p("keyboard",e))}function h(e){u="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(c=!0,p("pointer",e))}function g(e){(0,i.Z)(e)&&(c=!0,u="virtual")}function m(e){e.target!==window&&e.target!==document&&(c||d||(u="virtual",p("virtual",e)),c=!1,d=!1)}function E(){c=!1,d=!0}function y(e){if("undefined"==typeof window||l.get((0,o.k)(e)))return;let t=(0,o.k)(e),n=(0,o.r)(e),r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){c=!0,r.apply(this,arguments)},n.addEventListener("keydown",v,!0),n.addEventListener("keyup",v,!0),n.addEventListener("click",g,!0),t.addEventListener("focus",m,!0),t.addEventListener("blur",E,!1),"undefined"!=typeof PointerEvent?(n.addEventListener("pointerdown",h,!0),n.addEventListener("pointermove",h,!0),n.addEventListener("pointerup",h,!0)):(n.addEventListener("mousedown",h,!0),n.addEventListener("mousemove",h,!0),n.addEventListener("mouseup",h,!0)),t.addEventListener("beforeunload",()=>{w(e)},{once:!0}),l.set(t,{focus:r})}let w=(e,t)=>{let n=(0,o.k)(e),r=(0,o.r)(e);t&&r.removeEventListener("DOMContentLoaded",t),l.has(n)&&(n.HTMLElement.prototype.focus=l.get(n).focus,r.removeEventListener("keydown",v,!0),r.removeEventListener("keyup",v,!0),r.removeEventListener("click",g,!0),n.removeEventListener("focus",m,!0),n.removeEventListener("blur",E,!1),"undefined"!=typeof PointerEvent?(r.removeEventListener("pointerdown",h,!0),r.removeEventListener("pointermove",h,!0),r.removeEventListener("pointerup",h,!0)):(r.removeEventListener("mousedown",h,!0),r.removeEventListener("mousemove",h,!0),r.removeEventListener("mouseup",h,!0)),l.delete(n))};function b(){return"pointer"!==u}function T(){return u}function L(e){u=e,p(e,null)}"undefined"!=typeof document&&function(e){let t;let n=(0,o.r)(void 0);"loading"!==n.readyState?y(void 0):(t=()=>{y(void 0)},n.addEventListener("DOMContentLoaded",t)),()=>w(e,t)}();let _=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function S(e,t,n){y(),(0,s.useEffect)(()=>{let t=(t,r)=>{(function(e,t,n){var r;let i="undefined"!=typeof window?(0,o.k)(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?(0,o.k)(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,u="undefined"!=typeof window?(0,o.k)(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?(0,o.k)(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null==n?void 0:n.target)instanceof i&&!_.has(null==n?void 0:null===(r=n.target)||void 0===r?void 0:r.type)||(null==n?void 0:n.target)instanceof s||(null==n?void 0:n.target)instanceof u&&(null==n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof a&&!f[n.key])})(!!(null==n?void 0:n.isTextInput),t,r)&&e(b())};return a.add(t),()=>{a.delete(t)}},t)}},96631:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(57571),i=n(79109);function o(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:s}=e,u=(0,i.useRef)({isFocusWithin:!1}),a=(0,i.useCallback)(e=>{u.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(u.current.isFocusWithin=!1,n&&n(e),s&&s(!1))},[n,s,u]),l=(0,r.d)(a),c=(0,i.useCallback)(e=>{u.current.isFocusWithin||document.activeElement!==e.target||(o&&o(e),s&&s(!0),u.current.isFocusWithin=!0,l(e))},[o,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:a}}}},13208:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(79109);let i=!1,o=0;function s(){i=!0,setTimeout(()=>{i=!1},50)}function u(e){"touch"===e.pointerType&&s()}function a(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",u):document.addEventListener("touchend",s),o++,()=>{--o>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",u):document.removeEventListener("touchend",s))}}function l(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:s}=e,[u,l]=(0,r.useState)(!1),c=(0,r.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,r.useEffect)(a,[]);let{hoverProps:d,triggerHoverEnd:f}=(0,r.useMemo)(()=>{let e=(e,r)=>{if(c.pointerType=r,s||"touch"===r||c.isHovered||!e.currentTarget.contains(e.target))return;c.isHovered=!0;let i=e.currentTarget;c.target=i,t&&t({type:"hoverstart",target:i,pointerType:r}),n&&n(!0),l(!0)},r=(e,t)=>{if(c.pointerType="",c.target=null,"touch"===t||!c.isHovered)return;c.isHovered=!1;let r=e.currentTarget;o&&o({type:"hoverend",target:r,pointerType:t}),n&&n(!1),l(!1)},u={};return"undefined"!=typeof PointerEvent?(u.onPointerEnter=t=>{i&&"mouse"===t.pointerType||e(t,t.pointerType)},u.onPointerLeave=e=>{!s&&e.currentTarget.contains(e.target)&&r(e,e.pointerType)}):(u.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},u.onMouseEnter=t=>{c.ignoreEmulatedMouseEvents||i||e(t,"mouse"),c.ignoreEmulatedMouseEvents=!1},u.onMouseLeave=e=>{!s&&e.currentTarget.contains(e.target)&&r(e,"mouse")}),{hoverProps:u,triggerHoverEnd:r}},[t,n,o,s,c]);return(0,r.useEffect)(()=>{s&&f({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:d,isHovered:u}}},57571:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(79109),i=n(26404),o=n(18779);class s{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function u(e){let t=(0,r.useRef)({isFocused:!1,observer:null});(0,i.b)(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=(0,o.i)(t=>{null==e||e(t)});return(0,r.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target;r.addEventListener("focusout",e=>{t.current.isFocused=!1,r.disabled&&n(new s("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}},34193:function(e,t,n){"use strict";n.d(t,{k:function(){return i},r:function(){return r}});let r=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},i=e=>e&&"window"in e&&e.window===e?e:r(e).defaultView||window},60465:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},c:function(){return o}});var r=n(21429);function i(e){return 0===e.mozInputSource&&!!e.isTrusted||((0,r.Dt)()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function o(e){return!(0,r.Dt)()&&0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType}},21429:function(e,t,n){"use strict";function r(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function i(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function o(e){let t=null;return()=>(null==t&&(t=e()),t)}n.d(t,{Dt:function(){return f},Pf:function(){return c},V5:function(){return s},gn:function(){return l},vU:function(){return p},zc:function(){return a}});let s=o(function(){return i(/^Mac/i)}),u=o(function(){return i(/^iPhone/i)}),a=o(function(){return i(/^iPad/i)||s()&&navigator.maxTouchPoints>1}),l=o(function(){return u()||a()});o(function(){return s()||l()});let c=o(function(){return r(/AppleWebKit/i)&&!d()}),d=o(function(){return r(/Chrome/i)}),f=o(function(){return r(/Android/i)}),p=o(function(){return r(/Firefox/i)})},18779:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(26404),i=n(79109);function o(e){let t=(0,i.useRef)(null);return(0,r.b)(()=>{t.current=e},[e]),(0,i.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}},26404:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(79109);let i="undefined"!=typeof document?r.useLayoutEffect:()=>{}},41963:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(92776),i=n(32608);function o(e){let t=e.runtimeEnvStrict??e.runtimeEnv??i.env;if(e.emptyStringAsUndefined)for(let[e,n]of Object.entries(t))""===n&&delete t[e];if(e.skipValidation)return t;let n="object"==typeof e.client?e.client:{},o="object"==typeof e.server?e.server:{},s="object"==typeof e.shared?e.shared:{},u=(0,r.Ry)(n),a=(0,r.Ry)(o),l=(0,r.Ry)(s),c=e.isServer??("undefined"==typeof window||"Deno"in window),d=u.merge(l),f=a.merge(l).merge(u),p=c?f.safeParse(t):d.safeParse(t),v=e.onValidationError??(e=>{throw console.error("❌ Invalid environment variables:",e.flatten().fieldErrors),Error("Invalid environment variables")}),h=e.onInvalidAccess??(e=>{throw Error("❌ Attempted to access a server-side environment variable on the client")});if(!1===p.success)return v(p.error);let g=t=>!e.clientPrefix||!t.startsWith(e.clientPrefix)&&!(t in l.shape),m=e=>c||!g(e),E=e=>"__esModule"===e||"$$typeof"===e,y=(e.extends??[]).reduce((e,t)=>Object.assign(e,t),{});return new Proxy(Object.assign(p.data,y),{get(e,t){if("string"==typeof t&&!E(t))return m(t)?Reflect.get(e,t):h(t)}})}},51198:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(41963),i=n(32608);function o(e){let t="object"==typeof e.client?e.client:{},n="object"==typeof e.server?e.server:{},o=e.shared,s=e.runtimeEnv?e.runtimeEnv:{...i.env,...e.experimental__runtimeEnv};return(0,r.D)({...e,shared:o,client:t,server:n,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:s})}},68201:function(e,t,n){"use strict";n.d(t,{yi:function(){return s}});var r=n(92776),i=n(41963),o=n(32608);let s=()=>(0,i.D)({server:{VERCEL:r.z.string().optional(),VERCEL_ENV:r.z.enum(["development","preview","production"]).optional(),VERCEL_URL:r.z.string().optional(),VERCEL_PROJECT_PRODUCTION_URL:r.z.string().optional(),VERCEL_BRANCH_URL:r.z.string().optional(),VERCEL_REGION:r.z.string().optional(),VERCEL_AUTOMATION_BYPASS_SECRET:r.z.string().optional(),VERCEL_GIT_PROVIDER:r.z.string().optional(),VERCEL_GIT_REPO_SLUG:r.z.string().optional(),VERCEL_GIT_REPO_OWNER:r.z.string().optional(),VERCEL_GIT_REPO_ID:r.z.string().optional(),VERCEL_GIT_COMMIT_REF:r.z.string().optional(),VERCEL_GIT_COMMIT_SHA:r.z.string().optional(),VERCEL_GIT_COMMIT_MESSAGE:r.z.string().optional(),VERCEL_GIT_COMMIT_AUTHOR_LOGIN:r.z.string().optional(),VERCEL_GIT_COMMIT_AUTHOR_NAME:r.z.string().optional(),VERCEL_GIT_PREVIOUS_SHA:r.z.string().optional(),VERCEL_GIT_PULL_REQUEST_ID:r.z.string().optional()},runtimeEnv:o.env})},48274:function(e,t,n){"use strict";n.d(t,{jo:function(){return u},Qx:function(){return d},AE:function(){return a},jx:function(){return l},v1:function(){return C}});var r,i=function(){try{if("undefined"==typeof localStorage)return!1;let e="nuqs-localStorage-test";localStorage.setItem(e,e);let t=localStorage.getItem(e)===e;if(localStorage.removeItem(e),!t)return!1}catch(e){return console.error("[nuqs]: debug mode is disabled (localStorage unavailable).",e),!1}let e=localStorage.getItem("debug")??"";return e.includes("nuqs")||e.includes("next-usequerystate")}();function o(e,...t){if(!i)return;let n=function(e,...t){return e.replace(/%[sfdO]/g,e=>{let n=t.shift();return"%O"===e&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)})}(e,...t);performance.mark(n),console.log(e,...t)}function s(e,t,n){try{return e(t)}catch(e){return function(e,...t){i&&console.warn(e,...t)}("[nuqs] Error while parsing value `%s`: %O"+(n?" (for key `%s`)":""),t,e,n),null}}function u(e){function t(t){if(void 0===t)return null;let n="";if(Array.isArray(t)){if(void 0===t[0])return null;n=t[0]}return"string"==typeof t&&(n=t),s(e.parse,n)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:n=>t(n)??e}},withOptions(e){return{...this,...e}}}}u({parse:e=>e,serialize:e=>`${e}`}),u({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()}),u({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),u({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()});var a=u({parse:e=>"true"===e,serialize:e=>e?"true":"false"});function l(e){return u({parse:t=>e.includes(t)?t:null,serialize:e=>e.toString()})}function c(e){if(0===e.size)return"";let t=[];for(let[n,r]of e.entries()){let e=n.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${r.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E")}`)}return"?"+t.join("&")}function d(e){return function(t,n={}){let[r,i]=f(t)?function(e){if("string"==typeof e){let[t="",n]=e.split("?");return[t,new URLSearchParams(n)]}return e instanceof URLSearchParams?["",new URLSearchParams(e)]:[e.origin+e.pathname,new URLSearchParams(e.searchParams)]}(t):["",new URLSearchParams],o=f(t)?n:t;for(let t in e){let n=e[t],r=o[t];if(!n||void 0===r)continue;let s=void 0!==n.defaultValue&&(n.eq??((e,t)=>e===t))(r,n.defaultValue);null===r||n.clearOnDefault&&s?i.delete(t):i.set(t,n.serialize(r))}return r+c(i)}}function f(e){return"string"==typeof e||e instanceof URLSearchParams||e instanceof URL}u({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString()}),u({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString()});var p={409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` was about to load on top.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function v(e){return`[nuqs] ${p[e]}
  See https://err.47ng.com/NUQS-${e}`}var h=n(80422),g=n(79109),m=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),E=new Map,y={history:"replace",scroll:!1,shallow:!0,throttleMs:m},w=new Set,b=0,T=null;function L(e){return E.get(e)??null}function _(e,t){return(e.split("#")[0]??"")+c(t)+location.hash}var S=Symbol("__nuqs__SYNC__"),M="__nuqs__NO_SYNC__",P=Symbol("__nuqs__NOTIFY__"),R={all:r=r||new Map,on:function(e,t){var n=r.get(e);n?n.push(t):r.set(e,[t])},off:function(e,t){var n=r.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var n=r.get(e);n&&n.slice().map(function(e){e(t)}),(n=r.get("*"))&&n.slice().map(function(n){n(e,t)})}};function C(e,{history:t="replace",shallow:n=!0,scroll:r=!1,throttleMs:i=m,parse:u=e=>e,serialize:a=String,eq:l=(e,t)=>e===t,defaultValue:c,clearOnDefault:d=!1,startTransition:f}={history:"replace",scroll:!1,shallow:!0,throttleMs:m,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!1,defaultValue:void 0}){let p=(0,h.useRouter)(),P=(0,h.useSearchParams)(),C=g.useRef(null),[I,O]=g.useState(()=>{let t=L(e),n=P?.get(e)??null,r=t??n;return C.current=r,null===r?null:s(u,r,e)}),F=g.useRef(I);o("[nuqs `%s`] render - state: %O, iSP: %s",e,I,P?.get(e)??null),g.useEffect(()=>{if(window.next?.version!=="14.0.3")return;let t=P.get(e)??null;if(t===C.current)return;let n=null===t?null:s(u,t,e);o("[nuqs `%s`] syncFromUseSearchParams %O",e,n),F.current=n,C.current=t,O(n)},[P?.get(e),e]),g.useInsertionEffect(()=>{function t({state:t,query:n}){o("[nuqs `%s`] updateInternalState %O",e,t),F.current=t,C.current=n,O(t)}function n(n){let r=n.get(e);if(r===C.current)return;let i=null===r?null:s(u,r,e);o("[nuqs `%s`] syncFromURL %O",e,i),t({state:i,query:r})}return o("[nuqs `%s`] subscribing to sync",e),R.on(S,n),R.on(e,t),()=>{o("[nuqs `%s`] unsubscribing from sync",e),R.off(S,n),R.off(e,t)}},[e]);let k=g.useCallback((s,u={})=>{let h="function"==typeof s?s(F.current??c??null):s;return(u.clearOnDefault??d)&&null!==h&&void 0!==c&&l(h,c)&&(h=null),C.current=function(e,t,n,r){let i=null===t?null:n(t);return o("[nuqs queue] Enqueueing %s=%s %O",e,i,r),E.set(e,i),"push"===r.history&&(y.history="push"),r.scroll&&(y.scroll=!0),!1===r.shallow&&(y.shallow=!1),r.startTransition&&(w.add(r.startTransition),y.shallow=!1),y.throttleMs=Math.max(r.throttleMs??m,Number.isFinite(y.throttleMs)?y.throttleMs:0),i}(e,h,a,{history:u.history??t,shallow:u.shallow??n,scroll:u.scroll??r,throttleMs:u.throttleMs??i,startTransition:u.startTransition??f}),R.emit(e,{state:h,query:C.current}),null===T&&(T=new Promise((e,t)=>{if(!Number.isFinite(y.throttleMs)){o("[nuqs queue] Skipping flush due to throttleMs=Infinity"),e(new URLSearchParams(location.search)),setTimeout(()=>{T=null},0);return}function n(){b=performance.now();let[n,r]=function(e){let t=new URLSearchParams(location.search);if(0===E.size)return[t,null];let n=Array.from(E.entries()),r={...y},i=Array.from(w);for(let[e,i]of(E.clear(),w.clear(),y.history="replace",y.scroll=!1,y.shallow=!0,y.throttleMs=m,o("[nuqs queue] Flushing queue %O with options %O",n,r),n))null===i?t.delete(e):t.set(e,i);try{let n=window.next?.router;if("string"==typeof n?.state?.asPath){let e=_(n.state.asPath.split("?")[0]??"",t);o("[nuqs queue (pages)] Updating url: %s",e),("push"===r.history?n.push:n.replace).call(n,e,e,{scroll:r.scroll,shallow:r.shallow})}else{let n=_(location.origin+location.pathname,t);o("[nuqs queue (app)] Updating url: %s",n);let s="push"===r.history?history.pushState:history.replaceState,u=(window.next?.version??"")>="14.1.0"?null:history.state;s.call(history,u,M,n),r.scroll&&window.scrollTo(0,0),r.shallow||function(e,t){let n=r=>{if(r===e.length)return t();let i=e[r];if(!i)throw Error("Invalid transition function");i(()=>n(r+1))};n(0)}(i,()=>{e.replace(n,{scroll:!1})})}return[t,null]}catch(e){return console.error(v(429),n.map(([e])=>e).join(),e),[t,e]}}(p);null===r?e(n):t(n),T=null}setTimeout(function(){let e=performance.now()-b,t=y.throttleMs,r=Math.max(0,Math.min(t,t-e));o("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",r,t),0===r?n():setTimeout(n,r)},0)})),T},[e,t,n,r,i,f]);return[I??c??null,k]}"object"==typeof history&&function(){let e="1.19.3",t=history.__nuqs_patched;if(t){t!==e&&console.error(v(409),t,e);return}for(let t of(o("[nuqs] Patching history with %s",e),["pushState","replaceState"])){let e=history[t].bind(history);history[t]=function(n,r,i){if(!i)return o("[nuqs] history.%s(null) (%s) %O",t,r,n),e(n,r,i);let s=r===M?"internal":"external",u=new URL(i,location.origin).searchParams;if(o("[nuqs] history.%s(%s) (%s) %O",t,i,s,n),"external"===s){for(let[e,t]of u.entries()){let n=L(e);null!==n&&n!==t&&(o("[nuqs] Overwrite detected for key: %s, Server: %s, queue: %s",e,t,n),u.set(e,n))}setTimeout(()=>{o("[nuqs] External history.%s call: triggering sync with %s",t,u),R.emit(S,u),R.emit(P,{search:u,source:s})},0)}else setTimeout(()=>{R.emit(P,{search:u,source:s})},0);return e(n,r===M?"":r,i)}}Object.defineProperty(history,"__nuqs_patched",{value:e,writable:!1,enumerable:!1,configurable:!1})}()}}]);